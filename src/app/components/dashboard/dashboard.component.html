<div class="dashboard-container">
  <!-- Welcome Message -->
  <div class="welcome-message">
    <h1>Welcome, {{user?.name || 'User'}}!</h1>
    <p class="welcome-subtitle">Here's your dashboard overview</p>
  </div>

  <!-- Header with user info and actions -->
  <div class="dashboard-header">
    <div class="user-info">
      <mat-icon class="user-icon">account_circle</mat-icon>
      <span class="user-name">{{user?.name || 'User'}}</span>
    </div>
    <div class="actions-container">
      <button mat-raised-button color="primary" (click)="createSalesRecord()">
        <mat-icon>add</mat-icon>
        Create Sales Record
      </button>
      <button mat-raised-button color="accent" *ngIf="isSuperAdmin" (click)="createAdmin()">
        <mat-icon>person_add</mat-icon>
        Create Admin
      </button>
      <button mat-raised-button color="warn" (click)="logout()">
        <mat-icon>exit_to_app</mat-icon>
        Logout
      </button>
    </div>
  </div>

  <!-- Stats Grid -->
  <div class="stats-grid">
    <!-- Total Sales Card -->
    <mat-card class="stat-card total-sales">
      <mat-card-header>
        <mat-icon class="stat-icon">shopping_cart</mat-icon>
        <mat-card-title class="stat-title">Total Sales</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="stat-value">{{stats.total_sales}}</div>
        <div class="stat-detail">Total number of sales</div>
      </mat-card-content>
    </mat-card>

    <!-- Total Sale Amount Card -->
    <mat-card class="stat-card total-amount">
      <mat-card-header>
        <mat-icon class="stat-icon">payments</mat-icon>
        <mat-card-title class="stat-title">Total Sale Amount</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="stat-value">₹{{stats.total_sale_amount | number:'1.0-0'}}</div>
        <div class="stat-detail">Total value of all sales</div>
      </mat-card-content>
    </mat-card>

    <!-- Pending Amount Card -->
    <mat-card class="stat-card pending-amount">
      <mat-card-header>
        <mat-icon class="stat-icon">pending</mat-icon>
        <mat-card-title class="stat-title">Pending Amount</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="stat-value">₹{{stats.total_pending_amount | number:'1.0-0'}}</div>
        <div class="stat-detail">Total amount pending</div>
      </mat-card-content>
    </mat-card>

    <!-- Paid EMIs Card -->
    <mat-card class="stat-card paid-emis">
      <mat-card-header>
        <mat-icon class="stat-icon">check_circle</mat-icon>
        <mat-card-title class="stat-title">Paid EMIs</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="stat-value">{{stats.total_paid_emis}}</div>
        <div class="stat-detail">Total EMIs paid</div>
      </mat-card-content>
    </mat-card>

    <!-- Unpaid EMIs Card -->
    <mat-card class="stat-card unpaid-emis">
      <mat-card-header>
        <mat-icon class="stat-icon">error</mat-icon>
        <mat-card-title class="stat-title">Unpaid EMIs</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="stat-value">{{stats.total_unpaid_emis}}</div>
        <div class="stat-detail">Total EMIs pending</div>
      </mat-card-content>
    </mat-card>

    <!-- Upcoming EMIs Card -->
    <mat-card class="stat-card upcoming-emis">
      <mat-card-header>
        <mat-icon class="stat-icon">upcoming</mat-icon>
        <mat-card-title class="stat-title">Upcoming EMIs</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="stat-value">{{stats.upcoming_emis_in_next_7_days}}</div>
        <div class="stat-detail">EMIs due in next 7 days</div>
      </mat-card-content>
    </mat-card>

    <!-- Analytics Card -->
    <mat-card class="stat-card analytics-card">
      <mat-card-header>
        <mat-icon class="stat-icon">analytics</mat-icon>
        <mat-card-title class="stat-title">Analytics</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="stat-value">Coming Soon</div>
        <div class="stat-detail">Detailed analytics will be available here</div>
      </mat-card-content>
    </mat-card>

    <!-- Trends Card -->
    <mat-card class="stat-card trends-card">
      <mat-card-header>
        <mat-icon class="stat-icon">trending_up</mat-icon>
        <mat-card-title class="stat-title">Trends</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="stat-value">Coming Soon</div>
        <div class="stat-detail">Sales trends will be available here</div>
      </mat-card-content>
    </mat-card>

    <!-- Alerts Card -->
    <mat-card class="stat-card alerts-card">
      <mat-card-header>
        <mat-icon class="stat-icon">notifications</mat-icon>
        <mat-card-title class="stat-title">Alerts</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="stat-value">Coming Soon</div>
        <div class="stat-detail">Important alerts will appear here</div>
      </mat-card-content>
    </mat-card>
  </div>
</div> 